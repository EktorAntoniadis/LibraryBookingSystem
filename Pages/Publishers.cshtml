@page
@model PublishersModel
@{
    ViewData["Publishers"] = "Library Publishers";
}

<h1>Library Publishers</h1>

<h2>All Publishers</h2>

<form method="get" class="mb-4">
    <div class="row">
        <div class="col-2">
           @* Name *@
        </div>
        <div class="col-2">
            @* Address *@
        </div>
        <div class="col-2">
            @* City *@
        </div>
        <div class="col-2">
            @* Country *@
        </div>
        <div class="col-2">
            <select name="SortDirection" class="form-control">
                <option value="">Select order direction</option>
                <option value="asc" class="@(Model.SortDirection == "asc" ? "selected" : "")">Ascending</option>
                <option value="desc" class="@(Model.SortDirection == "desc" ? "selected" : "")">Descending</option>
            </select>
        </div>
        <div class="col-2">
            <button type="submit" class="btn btn-primary">Search</button>
            <a href="/Publishers" class="btn btn-secondary">Reset</a>
        </div>
    </div>
</form>

<table class="table">
    <thead>
        <tr>
            <th>
                <a asp-page="/Publishers" asp-route-SortColumn="Name" asp-route-SortDirection="@(Model.SortColumn == "Name" && Model.SortDirection == "ASC" ? "DESC" : "ASC")">
                    Name
                </a>
            </th>
            <th>
                <a asp-page="/Publishers" asp-route-SortColumn="Phone" asp-route-SortDirection="@(Model.SortColumn == "Phone" && Model.SortDirection == "ASC" ? "DESC" : "ASC")">
                    Phone
                </a>
            </th>
            <th>
                <a asp-page="/Publishers" asp-route-SortColumn="Address" asp-route-SortDirection="@(Model.SortColumn == "Address" && Model.SortDirection == "ASC" ? "DESC" : "ASC")">
                    Address
                </a>
            </th>
            <th>
                <a asp-page="/Publishers" asp-route-SortColumn="City" asp-route-SortDirection="@(Model.SortColumn == "City" && Model.SortDirection == "ASC" ? "DESC" : "ASC")">
                    City
                </a>
            </th>
            <th>
                <a asp-page="/Publishers" asp-route-SortColumn="Country" asp-route-SortDirection="@(Model.SortColumn == "Country" && Model.SortDirection == "ASC" ? "DESC" : "ASC")">
                    Country
                </a>
            </th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var publisher in Model.PaginatedPublishers.Records)
        {
            <tr>
                <td>@publisher.Name</td>
                <td>@publisher.Phone</td>
                <td>@publisher.Address</td>
                <td>@publisher.City</td>
                <td>@publisher.Country</td>
                <td>
                    <a asp-page="EditPublisher" asp-route-id="@publisher.PublisherId">Edit</a>                    
                </td>
            </tr>
        }
    </tbody>
</table>

<div class="pagination">
    @if (Model.PaginatedPublishers.HasPreviousPage)
    {
        <a asp-page="/Publishers" asp-route-PageIndex="@(Model.PaginatedPublishers.PageIndex - 1)" class="btn btn-secondary">Previous</a>
    }
    @if (Model.PaginatedPublishers.HasNextPage)
    {
        <a asp-page="/Publishers" asp-route-PageIndex="@(Model.PaginatedPublishers.PageIndex + 1)" class="btn btn-secondary">Next</a>
    }
</div>
