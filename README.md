# LibraryBookingSystem

Για να τρέξει αυτή η εφαρμογή, ο χρήστης πρέπει να έχει εγκατεστημένο: 
-Εναν Wamp server για να συνδεθεί με μία MySQL βάση (μαζί με τα απαραίτητα VC++ πακέτα. (Δες πληροφορίες στο https://wampserver.aviatechno.net/). 
-Το Visual Studio Community 2022

Πριν τρέξει την εφαρμογή, θα πρέπει να ανοίξει το visual studio και μέσω Package Manager Console, να τρέξει την εντολή Update-Database για να δημιουργήσει τη βάση στon MySql server.

Μετά μπορεί να τρέξει τη εφαρμογή η οποία θα δημιουργήσει από μόνη της κάποια δοκιμαστικά δεδομένα για να μπορέσει να τεστάρει ο χρήστης.



Σε αυτό το πρόγραμμα, εφαρμόστηκαν πρακτικές ασφάλειας, ενάντια στις 10 πιο γνωστές ευπάθειες σύμφωνα με τον OWASP.

1.Έγχυσή κώδικα SQL
H χρήση ερωτημάτων LINQ με το Entity Framework Core, χρησιμοποιεί παραμέτρους, και καθαρίζει τα στοιχεία εισόδου, πριν εκτελεστούν τα ερωτήματα.

2. Cross-Site Scripting (XSS)
Οι σελίδες Razor, είναι σχεδιασμένες έτσι, που κωδικοποιούν το παραγόμενο στοιχείο HTML οπότε αποτρέπονται επιθέσεις XSS. Στην εφαρμογή δεν χρησιμοποιείται η μέθοδος Html.Raw() ή παρόμοιες για να υπάρχει απουσία κωδικοποίησης στα στοιχεία εισόδου του χρήστη. Αυτές οι μέθοδοι έχουν εισάγει στο παρελθόν ευπάθειες XSS.

3. Insecure deserialization
Η εφαρμογή δεν αντιμετωπίζει αυτή την ευπάθεια, γιατί δεν χρησιμοποιούνται serializers ή formatters. Δεν υπάρχει κώδικας που να διαβάσει σειριοποιημένα αντικείμενα.

4. Broken Access Control
Δεν υπάρχει τρωτό σημείο στον έλεγχο πρόσβασης, γιατί χρησιμοποιούνται στοιχεία (Claims) με ρόλους, έχει μπει το στοιχείο [Authorize] στον κώδικα του διακομιστή που απαγορεύει σε μη εξουσιοδοτημένους χρήστες να τρέξουν τον κώδικα, και ενισχύει την ασφάλεια και η αποθήκευση συνεδρίας (session). 

5. Security Misconfigurations
Υπάρχει το app.UseHttpsRedirection() και έχουν μπει Headers (επικεφαλίδες) στο Program.cs (προς το τέλος του αρχείου) για αποφυγή Clickjacking, Mime sniffing και άλλους. Υπάρχει επίσης το app.UseStaticFiles() και χρήση σελίδων σφάλματος μόνο σε περιβάλλον ανάπτυξης.

6. Session Management Flaws
Χρησιμοποιείται το Session για την είσοδο του χρήστη (Login) στην εφαρμογή. Έχουν μπει παράμετροι για Cookie με SameSite, HttpOnly, και ο χρόνος συνεδρίας έχει καθοριστεί στα 30 λεπτά.

7. Use of Vulnerable Dependencies
Τα γνωστά πακέτα της Microsoft, είναι στην τελευταία έκδοση του .NET 8 ή αντίστοιχες που να λειτουργούν με την έκδοση αυτή. Καμμία βιβλιοθήκη δεν είναι παλιά.

8. Weak Cryptographic practices
Χρησιμοποιούνται μέθοδοι κρυπτογραφίας για τον κωδικό εισόδου και για ανανέωση του hashing με τον PasswordHasher. Επίσης έχει κρυπτογραφηθεί και η σύνοψη των βιβλίων με τη βοήθεια μίας κλάσης που λέγεται TextDecryptor.

9. Cross-Site Request Forgery (CSRF)
Ο μηχανισμός προστασίας της εφαρμογής από αυτή την επίθεση, είναι η υλοποίηση Anti-CSRF token και SameSite Cookie. Το Anti-CSRF token, μπαίνει με επικεφαλίσα X-CSRF-TOKEN μέσα στις υπηρεσίες και με φίλτρο σε όλη την εφαρμογή που ονομάζεται AutoValidateAntiforgeryTokenAttribute. Στις φόρμες μέσα, μπαίνει η μέθοδος  @Html.AntiForgeryToken(). Για το Cookie, χρησιμοποιείται και το app.UseCookiePolicy().

10. Exposure to Known Vulnerabilities
Οι βιβλιοθήκες με γνωστές ευπάθειες σε παλιότερες εκδόσεις τους, όπως το NewtonSoft.Json, FluentValidation και άλλα δεν χρησιμοποιούνται στην εφαρμογή. Δεν υπάρχουν καταργημένα πακέτα που να χρησιμοποιούνται.